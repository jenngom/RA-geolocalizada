<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RA Geolocalizada - Avión sobre Vaso</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/ar.js/2.2.1/aframe/build/aframe-ar.min.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">

        <!-- Cámara con GPS -->
        <a-camera gps-camera="minAccuracy: 50;"></a-camera>

        <!-- Definir el marcador de AR.js (por ejemplo, detecta el vaso) -->
        <a-marker type="pattern" url="path/to/vaso-pattern.patt" id="markerVaso">
            
            <!-- Modelo 3D del avión que se mostrará sobre el marcador -->
            <a-entity 
                id="airplane" 
                gltf-model="https://cdn.jsdelivr.net/gh/KhronosGroup/glTF-Sample-Models/2.0/Airplane/glTF/Airplane.gltf"
                scale="5 5 5" 
                rotation="0 180 0"
                position="0 0 0"
                visible="false"> <!-- El avión estará inicialmente invisible -->
            </a-entity>
        </a-marker>

    </a-scene>

    <script>
        // Cuando el marcador del vaso sea detectado, el avión será visible
        const airplane = document.getElementById('airplane');
        const markerVaso = document.getElementById('markerVaso');

        markerVaso.addEventListener('markerFound', function() {
            console.log('Vaso detectado, mostrando avión');
            airplane.setAttribute('visible', 'true');  // Hacer visible el avión
        });

        markerVaso.addEventListener('markerLost', function() {
            console.log('Vaso perdido, ocultando avión');
            airplane.setAttribute('visible', 'false');  // Ocultar el avión cuando se pierda el marcador
        });
    </script>
</body>
</html>
